<!DOCTYPE html>
<html lang="en">
  <head>
    <title>AuroraCore  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
    <script src="js/lunr.min.js" defer></script>
    <script src="js/typeahead.jquery.js" defer></script>
    <script src="js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a title="AuroraCore  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">AuroraCore Docs</a> (91% documented)</p>
        <div class="header-right">
          <form role="search" action="search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </div>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">AuroraCore</a>
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/AnthropicService.html">AnthropicService</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ContextController.html">ContextController</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/ContextManager.html">ContextManager</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/FetchContextsTask.html">FetchContextsTask</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/LLMManager.html">LLMManager</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/LLMManager/Routing.html">– Routing</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/LLMServiceFactory.html">LLMServiceFactory</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/LLMTask.html">LLMTask</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/LoadContextTask.html">LoadContextTask</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/OllamaService.html">OllamaService</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/OpenAIService.html">OpenAIService</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SaveContextTask.html">SaveContextTask</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SecureStorage.html">SecureStorage</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/SummarizeTask.html">SummarizeTask</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Summarizer.html">Summarizer</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/TrimmingTask.html">TrimmingTask</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/Workflow.html">Workflow</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WorkflowManager.html">WorkflowManager</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/WorkflowTask.html">WorkflowTask</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/LLMRole.html">LLMRole</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/LLMServiceError.html">LLMServiceError</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/SummaryType.html">SummaryType</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TaskStatus.html">TaskStatus</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/TokenAdjustmentPolicy.html">TokenAdjustmentPolicy</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/WorkflowState.html">WorkflowState</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Extensions/String.html">String</a>
              </li>
              <li class="nav-group-task">
                <a href="Extensions/String/TrimmingStrategy.html">– TrimmingStrategy</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/LLMResponseProtocol.html">LLMResponseProtocol</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/LLMServiceProtocol.html">LLMServiceProtocol</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/SummarizerProtocol.html">SummarizerProtocol</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/WorkflowManagerProtocol.html">WorkflowManagerProtocol</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/WorkflowProtocol.html">WorkflowProtocol</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/WorkflowTaskProtocol.html">WorkflowTaskProtocol</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Structs/AnthropicLLMResponse.html">AnthropicLLMResponse</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/AnthropicLLMResponse.html#/s:10AuroraCore20AnthropicLLMResponseV7ContentV">– Content</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/AnthropicLLMResponse.html#/s:10AuroraCore20AnthropicLLMResponseV5UsageV">– Usage</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/AnthropicLLMStreamingResponse.html">AnthropicLLMStreamingResponse</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/AnthropicLLMStreamingResponse/Delta.html">– Delta</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/AnthropicLLMStreamingResponse/ContentBlock.html">– ContentBlock</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/AnthropicLLMStreamingResponse/Usage.html">– Usage</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Bookmark.html">Bookmark</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/Context.html">Context</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/ContextItem.html">ContextItem</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/LLMMessage.html">LLMMessage</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/LLMRequest.html">LLMRequest</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/LLMRequestOptions.html">LLMRequestOptions</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/LLMTokenUsage.html">LLMTokenUsage</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/OllamaLLMResponse.html">OllamaLLMResponse</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/OpenAILLMResponse.html">OpenAILLMResponse</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/OpenAILLMResponse/Choice.html">– Choice</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/OpenAILLMResponse.html#/s:10AuroraCore17OpenAILLMResponseV5UsageV">– Usage</a>
              </li>
              <li class="nav-group-task">
                <a href="Structs/SummarizerOptions.html">SummarizerOptions</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <h1 id='auroracore' class='heading'>AuroraCore</h1>

<p>AuroraCore is the core library powering the Aurora AI assistant framework. This package is designed to manage the fundamental structures and workflows that support various AI-driven tasks, including context management, task workflows, and integrations with large language models (LLMs) such as OpenAI and Ollama. It is highly modular, allowing developers to extend its functionality and integrate with external services.</p>
<h2 id='features' class='heading'>Features</h2>

<ul>
<li><strong>Context Management</strong>: Handle and maintain conversation or task-specific context, including adding, retrieving, and summarizing items.</li>
<li><strong>Task and Workflow Handling</strong>: Built-in support for defining and managing tasks and workflows, including the ability to track task status and manage dependent workflows. Now supports asynchronous task execution for handling complex, long-running tasks.</li>
<li><strong>LLM Integration</strong>: Seamless integration with various LLM services via an extendable <code><a href="Classes/LLMManager.html">LLMManager</a></code>. Supports token management, trimming strategies, and fallback mechanisms.</li>
<li><strong>Modular and Extendable</strong>: AuroraCore is designed to be modular, allowing developers to plug in their own services, workflows, or task managers.</li>
</ul>
<h2 id='components' class='heading'>Components</h2>
<h3 id='1-strong-contextcontroller-strong' class='heading'>1. <strong>ContextController</strong></h3>

<p>The <code><a href="Classes/ContextController.html">ContextController</a></code> manages context data, including adding, updating, and summarizing items. It works closely with summarizers and handles context tokenization.</p>
<h3 id='2-strong-workflowtask-and-workflow-strong' class='heading'>2. <strong>WorkflowTask and Workflow</strong></h3>

<p>The <code><a href="Classes/WorkflowTask.html">WorkflowTask</a></code> and <code><a href="Classes/Workflow.html">Workflow</a></code> classes provide mechanisms to define tasks, monitor their progress, and execute complex workflows that are built from multiple tasks.</p>
<h3 id='3-strong-workflowmanager-strong' class='heading'>3. <strong>WorkflowManager</strong></h3>

<p>The <code><a href="Classes/WorkflowManager.html">WorkflowManager</a></code> is responsible for managing and executing workflows. It coordinates task execution, handles task failures, and manages workflow states such as <code>inProgress</code>, <code>stopped</code>, <code>completed</code>, and <code>failed</code>. It supports asynchronous execution, making it suitable for workflows involving AI, network requests, and other asynchronous tasks.</p>
<h3 id='4-strong-llmmanager-strong' class='heading'>4. <strong>LLMManager</strong></h3>

<p>The <code><a href="Classes/LLMManager.html">LLMManager</a></code> is responsible for managing connections to various language model services, handling requests, and managing token limits. It supports trimming strategies (start, middle, end) to fit within LLM token limits.</p>
<h3 id='5-strong-contextmanager-strong' class='heading'>5. <strong>ContextManager</strong></h3>

<p><code><a href="Classes/ContextManager.html">ContextManager</a></code> supervises multiple <code><a href="Classes/ContextController.html">ContextController</a></code> instances, allowing for the management of multiple contexts. It handles saving and loading contexts to disk, as well as setting the active context.</p>
<h2 id='installation' class='heading'>Installation</h2>
<h3 id='swift-package-manager' class='heading'>Swift Package Manager</h3>

<p>To integrate AuroraCore into your project using Swift Package Manager, add the following line to your <code>Package.swift</code> file:</p>
<pre class="highlight swift"><code><span class="o">.</span><span class="nf">package</span><span class="p">(</span><span class="nv">url</span><span class="p">:</span> <span class="s">"https://github.com/yourusername/AuroraCore.git"</span><span class="p">,</span> <span class="nv">from</span><span class="p">:</span> <span class="s">"1.0.0"</span><span class="p">)</span>
</code></pre>

<p>Then add <code>AuroraCore</code> as a dependency to your target:</p>
<pre class="highlight swift"><code><span class="o">.</span><span class="nf">target</span><span class="p">(</span>
    <span class="nv">name</span><span class="p">:</span> <span class="s">"YourTarget"</span><span class="p">,</span>
    <span class="nv">dependencies</span><span class="p">:</span> <span class="p">[</span><span class="s">"AuroraCore"</span><span class="p">]),</span>
</code></pre>
<h2 id='usage' class='heading'>Usage</h2>
<h3 id='setting-up-a-context' class='heading'>Setting up a Context</h3>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">AuroraCore</span>

<span class="k">let</span> <span class="nv">contextController</span> <span class="o">=</span> <span class="kt">ContextController</span><span class="p">(</span><span class="nv">maxTokenLimit</span><span class="p">:</span> <span class="mi">4096</span><span class="p">)</span>
<span class="n">contextController</span><span class="o">.</span><span class="nf">addItem</span><span class="p">(</span><span class="nv">content</span><span class="p">:</span> <span class="s">"This is a new item."</span><span class="p">)</span>
<span class="k">let</span> <span class="nv">summary</span> <span class="o">=</span> <span class="n">contextController</span><span class="o">.</span><span class="nf">summarizeContext</span><span class="p">()</span>
</code></pre>
<h3 id='using-workflowtask-and-workflow' class='heading'>Using WorkflowTask and Workflow</h3>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">AuroraCore</span>

<span class="k">let</span> <span class="nv">task</span> <span class="o">=</span> <span class="kt">WorkflowTask</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"Example Task"</span><span class="p">,</span> <span class="nv">description</span><span class="p">:</span> <span class="s">"This is a sample task."</span><span class="p">)</span>
<span class="k">var</span> <span class="nv">workflow</span> <span class="o">=</span> <span class="kt">Workflow</span><span class="p">(</span><span class="nv">name</span><span class="p">:</span> <span class="s">"Example Workflow"</span><span class="p">,</span> <span class="nv">description</span><span class="p">:</span> <span class="s">"This is a sample workflow"</span><span class="p">,</span> <span class="nv">tasks</span><span class="p">:</span> <span class="p">[</span><span class="n">task</span><span class="p">])</span>

<span class="k">let</span> <span class="nv">workflowManager</span> <span class="o">=</span> <span class="kt">WorkflowManager</span><span class="p">(</span><span class="nv">workflow</span><span class="p">:</span> <span class="n">workflow</span><span class="p">)</span>

<span class="c1">// Starting the workflow</span>
<span class="kt">Task</span> <span class="p">{</span>
    <span class="k">await</span> <span class="n">workflowManager</span><span class="o">.</span><span class="nf">start</span><span class="p">()</span>
<span class="p">}</span>
</code></pre>
<h3 id='llm-integration' class='heading'>LLM Integration</h3>
<pre class="highlight swift"><code><span class="kd">import</span> <span class="kt">AuroraCore</span>

<span class="k">let</span> <span class="nv">llmManager</span> <span class="o">=</span> <span class="kt">LLMManager</span><span class="p">()</span>
<span class="n">llmManager</span><span class="o">.</span><span class="nf">registerService</span><span class="p">(</span><span class="kt">MockLLMService</span><span class="p">(),</span> <span class="nv">withName</span><span class="p">:</span> <span class="s">"MockService"</span><span class="p">)</span>

<span class="k">let</span> <span class="nv">request</span> <span class="o">=</span> <span class="kt">LLMRequest</span><span class="p">(</span><span class="nv">prompt</span><span class="p">:</span> <span class="s">"Hello, World!"</span><span class="p">)</span>
<span class="n">llmManager</span><span class="o">.</span><span class="nf">sendRequest</span><span class="p">(</span><span class="n">request</span><span class="p">)</span> <span class="p">{</span> <span class="n">response</span> <span class="k">in</span>
    <span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">?</span><span class="o">.</span><span class="n">text</span> <span class="p">??</span> <span class="s">"No response"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<h2 id='running-tests' class='heading'>Running Tests</h2>

<p>AuroraCore includes tests for multiple language model services. The Ollama tests will always run, as they do not require any API keys. For testing OpenAI or Anthropic services, you will need to manually provide your API keys.</p>
<h3 id='adding-api-keys-for-openai-and-anthropic' class='heading'>Adding API Keys for OpenAI and Anthropic:</h3>

<p>In the test files that involve OpenAI or Anthropic services, there are placeholders where you can insert your API keys.</p>

<ol>
<li>Open the <code>LLMServiceTests.swift</code> file.</li>
<li>Locate the following lines near the top of the file:
<code>swift
private let openAIAPIKey: String? = &quot;&quot; // Insert your OpenAI API key here
private let anthropicAPIKey: String? = &quot;&quot; // Insert your Anthropic API key here
</code></li>
<li>Add your keys between the quotation marks (<code>&quot;&quot;</code>) to enable the tests for those services.</li>
</ol>
<h3 id='important' class='heading'>Important:</h3>

<ul>
<li><strong>Do not commit your API keys to the repository</strong>. The tests are designed to run with Ollama by default, and you can enable additional tests for OpenAI and Anthropic by manually adding your keys for local testing.</li>
<li>Be sure to remove or replace your keys with empty strings before committing any changes.</li>
</ul>

<p>With this setup, you can run the tests without relying on environment variables, and ensure your sensitive keys are not inadvertently shared.</p>
<h2 id='contributing' class='heading'>Contributing</h2>

<p>Contributions are welcome! Please feel free to submit a pull request or open an issue. For more details on how to contribute, please refer to the <a href="CONTRIBUTING.md">CONTRIBUTING.md</a> file.</p>
<h2 id='code-of-conduct' class='heading'>Code of Conduct</h2>

<p>We expect all participants to adhere to our <a href="CODE_OF_CONDUCT.md">Code of Conduct</a> to ensure a welcoming and inclusive environment for everyone.</p>
<h2 id='license' class='heading'>License</h2>

<p>AuroraCore is released under the <a href="LICENSE">Apache 2.0 License</a>.</p>
<h2 id='contact' class='heading'>Contact</h2>

<p>For any inquiries or feedback, please reach out to us at <a href="mailto:aurora.core.project@gmail.com">aurora.core.project@gmail.com</a>.</p>

          </section>
        </section>
        <section id="footer">
          <p>&copy; 2024 <a class="link" href="" target="_blank" rel="external noopener"></a>. All rights reserved. (Last updated: 2024-11-28)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.15.1</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</html>
