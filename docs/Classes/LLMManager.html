<!DOCTYPE html>
<html lang="en">
  <head>
    <title>LLMManager Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
    <script src="../js/lunr.min.js" defer></script>
    <script src="../js/typeahead.jquery.js" defer></script>
    <script src="../js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a name="//apple_ref/swift/Class/LLMManager" class="dashAnchor"></a>
    <a title="LLMManager Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../index.html">AuroraCore Docs</a> (91% documented)</p>
        <div class="header-right">
          <form role="search" action="../search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </div>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../index.html">AuroraCore</a>
        <img id="carat" src="../img/carat.png" alt=""/>
        <a href="../Classes.html">Classes</a>
        <img id="carat" src="../img/carat.png" alt=""/>
        LLMManager Class Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Classes/AnthropicService.html">AnthropicService</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/ContextController.html">ContextController</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/ContextManager.html">ContextManager</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/FetchContextsTask.html">FetchContextsTask</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/LLMManager.html">LLMManager</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/LLMManager/Routing.html">– Routing</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/LLMServiceFactory.html">LLMServiceFactory</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/LLMTask.html">LLMTask</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/LoadContextTask.html">LoadContextTask</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/OllamaService.html">OllamaService</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/OpenAIService.html">OpenAIService</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/SaveContextTask.html">SaveContextTask</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/SecureStorage.html">SecureStorage</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/SummarizeTask.html">SummarizeTask</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Summarizer.html">Summarizer</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/TrimmingTask.html">TrimmingTask</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/Workflow.html">Workflow</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/WorkflowManager.html">WorkflowManager</a>
              </li>
              <li class="nav-group-task">
                <a href="../Classes/WorkflowTask.html">WorkflowTask</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Enums/LLMRole.html">LLMRole</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/LLMServiceError.html">LLMServiceError</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/SummaryType.html">SummaryType</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/TaskStatus.html">TaskStatus</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/TokenAdjustmentPolicy.html">TokenAdjustmentPolicy</a>
              </li>
              <li class="nav-group-task">
                <a href="../Enums/WorkflowState.html">WorkflowState</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Extensions.html">Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Extensions/String.html">String</a>
              </li>
              <li class="nav-group-task">
                <a href="../Extensions/String/TrimmingStrategy.html">– TrimmingStrategy</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Protocols/LLMResponseProtocol.html">LLMResponseProtocol</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/LLMServiceProtocol.html">LLMServiceProtocol</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/SummarizerProtocol.html">SummarizerProtocol</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/WorkflowManagerProtocol.html">WorkflowManagerProtocol</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/WorkflowProtocol.html">WorkflowProtocol</a>
              </li>
              <li class="nav-group-task">
                <a href="../Protocols/WorkflowTaskProtocol.html">WorkflowTaskProtocol</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../Structs/AnthropicLLMResponse.html">AnthropicLLMResponse</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/AnthropicLLMResponse.html#/s:10AuroraCore20AnthropicLLMResponseV7ContentV">– Content</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/AnthropicLLMResponse.html#/s:10AuroraCore20AnthropicLLMResponseV5UsageV">– Usage</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/AnthropicLLMStreamingResponse.html">AnthropicLLMStreamingResponse</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/AnthropicLLMStreamingResponse/Delta.html">– Delta</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/AnthropicLLMStreamingResponse/ContentBlock.html">– ContentBlock</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/AnthropicLLMStreamingResponse/Usage.html">– Usage</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Bookmark.html">Bookmark</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/Context.html">Context</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/ContextItem.html">ContextItem</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/LLMMessage.html">LLMMessage</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/LLMRequest.html">LLMRequest</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/LLMRequestOptions.html">LLMRequestOptions</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/LLMTokenUsage.html">LLMTokenUsage</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/OllamaLLMResponse.html">OllamaLLMResponse</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/OpenAILLMResponse.html">OpenAILLMResponse</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/OpenAILLMResponse/Choice.html">– Choice</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/OpenAILLMResponse.html#/s:10AuroraCore17OpenAILLMResponseV5UsageV">– Usage</a>
              </li>
              <li class="nav-group-task">
                <a href="../Structs/SummarizerOptions.html">SummarizerOptions</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>LLMManager</h1>
              <div class="declaration">
                <div class="language">
                  
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">LLMManager</span></code></pre>

                </div>
              </div>
            <p><code>LLMManager</code> is responsible for managing multiple LLM services and routing requests to the appropriate service based on the specified criteria.
It allows registering, unregistering, and selecting services based on routing options such as token limit or domain, as well as providing fallback service support.</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10AuroraCore10LLMManagerC7RoutingO"></a>
                    <a name="//apple_ref/swift/Enum/Routing" class="dashAnchor"></a>
                    <a class="token" href="#/s:10AuroraCore10LLMManagerC7RoutingO">Routing</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Routing options for selecting an appropriate LLM service.</p>

                        <a href="../Classes/LLMManager/Routing.html" class="slightly-smaller">See more</a>
                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">enum</span> <span class="kt">Routing</span> <span class="p">:</span> <span class="kt">CustomStringConvertible</span><span class="p">,</span> <span class="kt">Equatable</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10AuroraCore10LLMManagerCACycfc"></a>
                    <a name="//apple_ref/swift/Method/init()" class="dashAnchor"></a>
                    <a class="token" href="#/s:10AuroraCore10LLMManagerCACycfc">init()</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Undocumented</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="nf">init</span><span class="p">()</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Registering%20Services"></a>
                <a name="//apple_ref/swift/Section/Registering Services" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Registering%20Services"></a>
                  <h3 class="section-name"><span>Registering Services</span>
</h3>
                </div>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10AuroraCore10LLMManagerC28registerDomainRoutingServiceyyAA18LLMServiceProtocol_pF"></a>
                    <a name="//apple_ref/swift/Method/registerDomainRoutingService(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10AuroraCore10LLMManagerC28registerDomainRoutingServiceyyAA18LLMServiceProtocol_pF">registerDomainRoutingService(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a new domain routing service or replaces an existing one.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">registerDomainRoutingService</span><span class="p">(</span><span class="n">_</span> <span class="nv">service</span><span class="p">:</span> <span class="kt"><a href="../Protocols/LLMServiceProtocol.html">LLMServiceProtocol</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>service</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The service conforming to <code><a href="../Protocols/LLMServiceProtocol.html">LLMServiceProtocol</a></code> to be registered as a domain routing service.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10AuroraCore10LLMManagerC23registerFallbackServiceyyAA18LLMServiceProtocol_pF"></a>
                    <a name="//apple_ref/swift/Method/registerFallbackService(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10AuroraCore10LLMManagerC23registerFallbackServiceyyAA18LLMServiceProtocol_pF">registerFallbackService(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a new fallback LLM service or replaces an existing one.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">registerFallbackService</span><span class="p">(</span><span class="n">_</span> <span class="nv">service</span><span class="p">:</span> <span class="kt"><a href="../Protocols/LLMServiceProtocol.html">LLMServiceProtocol</a></span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>service</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The service conforming to <code><a href="../Protocols/LLMServiceProtocol.html">LLMServiceProtocol</a></code> to be registered as a fallback.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10AuroraCore10LLMManagerC15registerService_12withRoutingsyAA18LLMServiceProtocol_p_SayAC7RoutingOGtF"></a>
                    <a name="//apple_ref/swift/Method/registerService(_:withRoutings:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10AuroraCore10LLMManagerC15registerService_12withRoutingsyAA18LLMServiceProtocol_p_SayAC7RoutingOGtF">registerService(_:<wbr>withRoutings:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Registers a new LLM service or replaces an existing one with the same name.</p>

<p>If a service with the same name already exists, it is replaced. Sets the first registered service as the active service if no active service is set.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">registerService</span><span class="p">(</span><span class="n">_</span> <span class="nv">service</span><span class="p">:</span> <span class="kt"><a href="../Protocols/LLMServiceProtocol.html">LLMServiceProtocol</a></span><span class="p">,</span> <span class="n">withRoutings</span> <span class="nv">routing</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Classes/LLMManager/Routing.html">Routing</a></span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="o">.</span><span class="nf">inputTokenLimit</span><span class="p">(</span><span class="mi">256</span><span class="p">)])</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>service</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The service conforming to <code><a href="../Protocols/LLMServiceProtocol.html">LLMServiceProtocol</a></code> to be registered.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10AuroraCore10LLMManagerC17unregisterService8withNameySS_tF"></a>
                    <a name="//apple_ref/swift/Method/unregisterService(withName:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10AuroraCore10LLMManagerC17unregisterService8withNameySS_tF">unregisterService(withName:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Unregisters an LLM service with a specified name.</p>

<p>If the service being unregistered is the active service, the active service is reset to the first available service or nil if no services are left.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">unregisterService</span><span class="p">(</span><span class="n">withName</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>name</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The name under which the service is registered.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Set%20Active%20Service"></a>
                <a name="//apple_ref/swift/Section/Set Active Service" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Set%20Active%20Service"></a>
                  <h3 class="section-name"><span>Set Active Service</span>
</h3>
                </div>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10AuroraCore10LLMManagerC16setActiveService6byNameySS_tF"></a>
                    <a name="//apple_ref/swift/Method/setActiveService(byName:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10AuroraCore10LLMManagerC16setActiveService6byNameySS_tF">setActiveService(byName:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Sets the active LLM service by its registered name.</p>

<p>Logs an error if the specified name does not correspond to a registered service.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">setActiveService</span><span class="p">(</span><span class="n">byName</span> <span class="nv">name</span><span class="p">:</span> <span class="kt">String</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>name</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The name of the service to be set as active.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Route%20Request"></a>
                <a name="//apple_ref/swift/Section/Route Request" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Route%20Request"></a>
                  <h3 class="section-name"><span>Route Request</span>
</h3>
                </div>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10AuroraCore10LLMManagerC12routeRequest_6buffer8trimmingAA19LLMResponseProtocol_pSgAA10LLMRequestV_SdSSAAE16TrimmingStrategyOtYaF"></a>
                    <a name="//apple_ref/swift/Method/routeRequest(_:buffer:trimming:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10AuroraCore10LLMManagerC12routeRequest_6buffer8trimmingAA19LLMResponseProtocol_pSgAA10LLMRequestV_SdSSAAE16TrimmingStrategyOtYaF">routeRequest(_:<wbr>buffer:<wbr>trimming:<wbr>)</a>
                    </code>
                      <span class="declaration-note">
                        Asynchronous
                      </span>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Routes a request to an appropriate LLM service based on the presence of a domain routing service and registered routings.</p>

<ul>
<li><p>Discussion:
This function first checks if a domain routing service is available:</p></li>
<li><p>If a domain routing service exists, it uses the service to determine the appropriate domain for the request.</p></li>
<li><p>If no domain routing service is present, the function defaults to no routings (<code>[]</code>).</p></li>
</ul>

<p>Once the <code>routings</code> are determined, the function delegates to <code>sendRequest()</code>, which handles actual service selection and fallback logic.</p>

<ul>
<li><p>Behavior:</p>

<ul>
<li><strong>With a Domain Routing Service:</strong> The request is sent to the routing service to identify the domain, and the result is used to create routing options.</li>
<li><strong>Without a Domain Routing Service:</strong> The request is directly passed to <code>sendRequest()</code> with no routings (<code>[]</code>), defaulting to fallback logic if no matching services are found.</li>
</ul></li>
<li><p>Example Usage:</p>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">manager</span><span class="o">.</span><span class="nf">routeRequest</span><span class="p">(</span><span class="n">myRequest</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">response</span><span class="p">?</span><span class="o">.</span><span class="n">text</span> <span class="p">??</span> <span class="s">"No response received"</span><span class="p">)</span>
</code></pre></li>
</ul><div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>The <code>sendRequest()</code> method handles registered services and fallback logic, ensuring robust and flexible routing.</p>

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">routeRequest</span><span class="p">(</span>
    <span class="n">_</span> <span class="nv">request</span><span class="p">:</span> <span class="kt"><a href="../Structs/LLMRequest.html">LLMRequest</a></span><span class="p">,</span>
    <span class="nv">buffer</span><span class="p">:</span> <span class="kt">Double</span> <span class="o">=</span> <span class="mf">0.05</span><span class="p">,</span>
    <span class="nv">trimming</span><span class="p">:</span> <span class="kt">String</span><span class="o">.</span><span class="kt">TrimmingStrategy</span> <span class="o">=</span> <span class="o">.</span><span class="n">end</span>
<span class="p">)</span> <span class="k">async</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/LLMResponseProtocol.html">LLMResponseProtocol</a></span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>request</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The <code><a href="../Structs/LLMRequest.html">LLMRequest</a></code> object containing the prompt and configuration for the LLM.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>buffer</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The buffer percentage to apply to the token limit. Defaults to 0.05 (5%).</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>trimming</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The trimming strategy to apply when tokens exceed the limit. Defaults to <code>.end</code>.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>An optional <code><a href="../Protocols/LLMResponseProtocol.html">LLMResponseProtocol</a></code> containing the response from the routed service.</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Send%20Request"></a>
                <a name="//apple_ref/swift/Section/Send Request" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Send%20Request"></a>
                  <h3 class="section-name"><span>Send Request</span>
</h3>
                </div>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10AuroraCore10LLMManagerC11sendRequest_8routings6buffer8trimmingAA19LLMResponseProtocol_pSgAA10LLMRequestV_SayAC7RoutingOGSdSSAAE16TrimmingStrategyOtYaF"></a>
                    <a name="//apple_ref/swift/Method/sendRequest(_:routings:buffer:trimming:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10AuroraCore10LLMManagerC11sendRequest_8routings6buffer8trimmingAA19LLMResponseProtocol_pSgAA10LLMRequestV_SayAC7RoutingOGSdSSAAE16TrimmingStrategyOtYaF">sendRequest(_:<wbr>routings:<wbr>buffer:<wbr>trimming:<wbr>)</a>
                    </code>
                      <span class="declaration-note">
                        Asynchronous
                      </span>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Sends a request to an LLM service, applying the specified routing and token trimming strategies if necessary.</p>

<p>This function trims the content if it exceeds the token limit of the selected service and sends the request.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">sendRequest</span><span class="p">(</span>
    <span class="n">_</span> <span class="nv">request</span><span class="p">:</span> <span class="kt"><a href="../Structs/LLMRequest.html">LLMRequest</a></span><span class="p">,</span>
    <span class="nv">routings</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Classes/LLMManager/Routing.html">Routing</a></span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="o">.</span><span class="nf">inputTokenLimit</span><span class="p">(</span><span class="mi">256</span><span class="p">)],</span>
    <span class="nv">buffer</span><span class="p">:</span> <span class="kt">Double</span> <span class="o">=</span> <span class="mf">0.05</span><span class="p">,</span>
    <span class="nv">trimming</span><span class="p">:</span> <span class="kt">String</span><span class="o">.</span><span class="kt">TrimmingStrategy</span> <span class="o">=</span> <span class="o">.</span><span class="n">end</span>
<span class="p">)</span> <span class="k">async</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/LLMResponseProtocol.html">LLMResponseProtocol</a></span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>request</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The <code><a href="../Structs/LLMRequest.html">LLMRequest</a></code> containing the messages and parameters.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>routings</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The routing options to select the appropriate service. Defaults to <code>[.inputTokenLimit(256)]</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>buffer</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The buffer percentage to apply to the token limit. Defaults to 0.05 (5%).</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>trimming</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The trimming strategy to apply when tokens exceed the limit. Defaults to <code>.end</code>.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>An optional <code><a href="../Protocols/LLMResponseProtocol.html">LLMResponseProtocol</a></code> object.</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Streaming%20Request"></a>
                <a name="//apple_ref/swift/Section/Streaming Request" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Streaming%20Request"></a>
                  <h3 class="section-name"><span>Streaming Request</span>
</h3>
                </div>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10AuroraCore10LLMManagerC20sendStreamingRequest_17onPartialResponse8routings6buffer8trimmingAA19LLMResponseProtocol_pSgAA10LLMRequestV_ySScSgSayAC7RoutingOGSdSSAAE16TrimmingStrategyOtYaF"></a>
                    <a name="//apple_ref/swift/Method/sendStreamingRequest(_:onPartialResponse:routings:buffer:trimming:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:10AuroraCore10LLMManagerC20sendStreamingRequest_17onPartialResponse8routings6buffer8trimmingAA19LLMResponseProtocol_pSgAA10LLMRequestV_ySScSgSayAC7RoutingOGSdSSAAE16TrimmingStrategyOtYaF">sendStreamingRequest(_:<wbr>onPartialResponse:<wbr>routings:<wbr>buffer:<wbr>trimming:<wbr>)</a>
                    </code>
                      <span class="declaration-note">
                        Asynchronous
                      </span>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Sends a streaming request to an LLM service, applying the specified routing and token trimming strategies if necessary.</p>

<p>This function trims the content if it exceeds the token limit of the selected service and sends the streaming request.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">sendStreamingRequest</span><span class="p">(</span>
    <span class="n">_</span> <span class="nv">request</span><span class="p">:</span> <span class="kt"><a href="../Structs/LLMRequest.html">LLMRequest</a></span><span class="p">,</span>
    <span class="nv">onPartialResponse</span><span class="p">:</span> <span class="p">((</span><span class="kt">String</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)?,</span>
    <span class="nv">routings</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Classes/LLMManager/Routing.html">Routing</a></span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="o">.</span><span class="nf">inputTokenLimit</span><span class="p">(</span><span class="mi">256</span><span class="p">)],</span>
    <span class="nv">buffer</span><span class="p">:</span> <span class="kt">Double</span> <span class="o">=</span> <span class="mf">0.05</span><span class="p">,</span>
    <span class="nv">trimming</span><span class="p">:</span> <span class="kt">String</span><span class="o">.</span><span class="kt">TrimmingStrategy</span> <span class="o">=</span> <span class="o">.</span><span class="n">end</span>
<span class="p">)</span> <span class="k">async</span> <span class="o">-&gt;</span> <span class="kt"><a href="../Protocols/LLMResponseProtocol.html">LLMResponseProtocol</a></span><span class="p">?</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>request</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The <code><a href="../Structs/LLMRequest.html">LLMRequest</a></code> containing the messages and parameters.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>onPartialResponse</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A closure that handles partial responses during streaming.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>routing</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The routing options to select the appropriate service. Defaults to <code>[.inputTokenLimit(256)]</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>buffer</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The buffer percentage to apply to the token limit. Defaults to 0.05 (5%).</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>trimming</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>The trimming strategy to apply when tokens exceed the limit. Defaults to <code>.end</code>.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>An optional <code><a href="../Protocols/LLMResponseProtocol.html">LLMResponseProtocol</a></code> object.</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2024 <a class="link" href="" target="_blank" rel="external noopener"></a>. All rights reserved. (Last updated: 2024-12-01)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.15.1</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</html>
